<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encriptador</title>
    <link rel="stylesheet" href="style/style.css">
    <link rel="shortcut icon" href="img/alura.svg" type="image/x-icon">
</head>
<body onload="document.getElementsByClassName('found')[0].style.visibility='hidden';">
    <div class="container">
        <div class="menu-container">
            <img src="img/alura.svg" alt="Alura" id="alura-logo" class="logo">
        </div>

        <div class="user-container">
            <input 
                type="text" 
                value="Ingrese el texto aqui" 
                onfocus="this.value='';" 
                id="text-crypt">
            
            <p>Solo letras minusculas y sin acentos</p>
            <input type="button" value="Encriptar" onclick="encrypt();">
            <input type="button" value="Desencriptar" onclick="decrypt()">
        </div>
        <div class="found ">
            <p id="message">Lorem ipsum</p>
            <input type="button" value="Copiar" onclick="copy()">
        </div>
        <div class="crypt-container not-found">
            <img src="img/no_find.png" alt="No se pudo encontrar">
            <h3>Ning√∫n mensaje fue encontrado</h3>
            <p>Ingresa el texto que desees encriptar o desencriptar.</p>
        </div>
    </div>
</body>
</html>
<script>
    function encrypt() {
        let texto = document.getElementById('text-crypt').value;
        let encrypted = "";
        console.log(texto)
        
        for (let i in texto) {
            switch(texto[i]) {
                case 'a':
                    encrypted+="ai";
                    break;
                case 'e':
                    encrypted+="enter";
                    break;
                case 'i':
                    encrypted+="imes";
                    break;
                case 'o':
                    encrypted+="ober";
                    break;
                case 'u':
                    encrypted+="ufat";
                default:
                    encrypted+=texto[i]
                    break;
            }
        }
        console.log(encrypted)
        showMessage(encrypted) 

    }

    function decrypt() {
        let texto = document.getElementById('text-crypt').value;
        let decrypt = "";
        console.log(texto);
        for (let i = 0; i < texto.length; i++) {
            switch(texto[i]) {
                case 'a':
                    if (texto[i + 1] === 'i') {
                        decrypt += 'a'
                    } 
                    i+=1;
                    break;
                case 'e':
                    if (texto[i + 1] === 'n' && texto[i + 2] === 't' && texto[i + 3] === 'e' && texto[i + 4] === 'r') {
                        decrypt += 'e'
                    }
                    i+=4;
                    break;
                case 'i':
                    if (texto[i + 1] === 'm' && texto[i + 2] === 'e' && texto[i + 3] === 's') {
                            decrypt += 'i'
                        }
                        i+=3;
                        break;
                case 'o':
                    if (texto[i + 1] === 'b' && texto[i + 2] === 'e' && texto[i + 3] === 'r') {
                            decrypt += 'o'
                        }
                        i+=3;
                        break;
                case 'u':
                    if (texto[i + 1] === 'f' && texto[i + 2] === 'a' && texto[i + 3] === 't') {
                            decrypt += 'u'
                        }
                        i+=3;
                        break;
                default:
                    decrypt += texto[i]
                    break;    
            }
        }
       console.log(decrypt)
       showMessage(decrypt) 
    }

    function showMessage(message) {
        document.getElementsByClassName('found')[0].style.visibility='';
        document.getElementsByClassName('not-found')[0].style.visibility='hidden';
        document.getElementById('message').innerText = message;
    }

    function copy() {
        var copyText = document.getElementById("message");

        // Copy the text inside the text field
        navigator.clipboard.writeText(copyText.innerText);
    }
</script>